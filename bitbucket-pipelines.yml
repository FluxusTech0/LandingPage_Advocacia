 # Definição dá imagem que vamos utilizar, nesse caso de React é o node e a versão que ele se encontra
image: node:20.18.0
 
  # Defininando os Steps do pipeline
definitions:
  # ********* STEPS Continuos Integration **********
  steps:
    # Step utilizado para instalar as dependências / utilizei o "&install" para ficar mais facil de chama ele no pepilines
    - step: &install
        name: Install dependencies
        caches: 
          - node
        script:
          - npm install
    # Step utilizado para verificar o código se está bom ou ruim      
    - step: &lint
        name: 'Lint'
        script:
          - npm install --save eslint
          
      # Step de Teste
    #- step: &test
    #    name: 'Tests'
    #    script:
    #        - script do documento de teste (Caso tenha)
    
    #- step:
    #    name: 'Security scan'
    #    script:
    #        - echo "Your security scan goes here..."

## Ordenar a execução do pepiline
pepilines: 
  ## Regra de quando for apenas no pull request para executar esse pepiline
  pull-requests:
    '**':
      - step: *install
      - step: *lint
